!function(t){"use strict";t(document).ready(function(){function i(){t(d).each(function(){var i=t(this);i.on("click",function(o){if(o.preventDefault(),!i.hasClass("in_wishlist")){var a=fableExtraWoowishlist.ajaxurl,d={action:"fable_extra_woowishlist_add",pid:i.data("id"),nonce:i.data("nonce"),single:i.hasClass(".fable-extra-woowishlist-button-single")};i.removeClass(n).addClass(e),t.post(a,d,function(t){if(i.removeClass(e),t.success){i.addClass(n).find(".text").html(fableExtraWoowishlist.addedText),t.data.wishlistPageBtn&&i.after(t.data.wishlistPageBtn);var o={action:"fable_extra_woowishlist_update"};s(null,o)}})}})})}function s(i,s){i&&i.preventDefault();var o=fableExtraWoowishlist.ajaxurl,l=t("div.fable-extra-woocomerce-wishlist-widget-wrapper"),c=t("div.fable-extra-woowishlist");s.isWishlistPage=!!c.length,s.isWidget=!!l.length,("fable_extra_woowishlist_update"!==s.action||s.isWishlistPage||s.isWidget)&&(s.isWishlistPage&&(s.wishListData=JSON.stringify(c.data())),c.addClass(e),l.addClass(e),t.post(o,s,function(i){c.removeClass(e),l.removeClass(e),i.success&&(s.isWishlistPage&&t("div.fable-extra-woowishlist-wrapper").html(i.data.wishList),s.isWidget&&l.html(i.data.widget),"fable_extra_woowishlist_remove"===s.action&&(t(d+"[data-id="+s.pid+"]").removeClass(n).find(".text").text(fableExtraWoowishlist.addText),t(d+"[data-id="+s.pid+"]").next(".fable-extra-woowishlist-page-button").remove())),a()}))}function o(i){console.log(i);var o=t(i.currentTarget),a={action:"fable_extra_woowishlist_remove",pid:o.data("id"),nonce:o.data("nonce")};s(i,a)}function a(){t(".fable-extra-woowishlist-remove").off("click").on("click",function(t){o(t)})}var e="loading",n="added in_wishlist",d="fable-extra-woowishlist-button";a(),i(),t(document).on("fable_extra_wc_products_changed",function(){a(),i()})})}(jQuery);